$def with(categories)
<h1>Search items to edit</h1>
<form id="search_form">
	<table>
		<tr>
			<th>Pin URL or id</th>
			<td><input id="pin_url" type="text"/></td>
		</tr>
		<tr>
			<th>Username</th>
			<td><input id="username" type="text"/></td>
		</tr>
		<tr>
			<th>Owner full name</th>
			<td><input id="name" type="text"/></td>
		</tr>
		<tr>
			<th>Owner email</th>
			<td><input id="email" type="text"/></td>
		</tr>
		<tr>
			<th>Category</th>
			<td>
				<select id="category">
					<option value="any">Any</option>
					<option value="uncategorized">Uncategorized</option>
				$for category in categories:
					<option value="$category.id">$category.name</option>
				</select>
			</td>
		</tr>
		<tr>
			<th></th>
			<td><button id="search_button">Search</button></td>
		</tr>
	</table>
</form>
<div id="results_layer">
	<table id="results_table">
		<thead>
			<th>Img</th>
			<th>Title</th>
			<th>Description</th>
			<th>Username</th>
			<th>Date</th>
			<th></th>
		</thead>
		<tbody>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tbody>
	</table>
</div>
<br>
<div style="text-align:center">
	<button id="select_all_pins" class="btn btn-active">Select All</button>
	<button id="unselect_all_pins" class="btn btn-active">Unselect All</button>
	| <button id="delete_selected_pins" class="btn btn-danger">Delete Selected</button>
</div>
<br>
<br>
<div id="pin_edit_dialog"></div>
<script type="text/javascript">
$$(document).ready(
	function() {
		$$.pagination_grid = $$("#results_table").ingrid({
			url: '/admin/pins/search/pagination',
			initialLoad: true,
			height: 600,
			colWidths: [60, 60, 170, 300, 100, 100, 80],
			colSortParams: ['pins.image_url', 'pins.name', 'pins.description', 'pins.timestamp'],
			sortedCol: 'pins.timestamp',
			sortedColDir: 'desc',
			recordsPerPage: 50,
		});
	}
);
</script>
<script src="/static/js/admin_pins.js"></script>
